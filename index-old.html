<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mass Data Transfer | Salesforce Migration Tool</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header Section -->
  <header class="app-header">
    <div class="header-content">
      <h1 class="app-title">Mass Data Transfer</h1>
      <p class="app-subtitle">Salesforce Org to Org Data Migration Tool</p>
      <div class="header-status">
        <span class="status-badge" id="backendServerStatus">
          <span class="status-dot"></span>
          <span class="status-text">Connecting to Backend...</span>
        </span>
        <span class="status-badge" id="connectionStatus">
          <span class="status-dot gray"></span>
          <span class="status-text">Orgs: Not Connected</span>
        </span>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    
    <!-- Org Connection Section -->
    <section class="section-card">
      <h2 class="section-title">Step 1: Connect Organizations</h2>
      <div class="org-panels">
        
        <!-- Source Org Panel -->
        <div class="org-panel">
          <div class="panel-header source">
            <h3>Source Org</h3>
            <span class="panel-subtitle">Data will be copied FROM here</span>
          </div>
          <div class="panel-body">
            <input type="text" id="sourceDomain" class="input-field" placeholder="https://login.salesforce.com" />
            <button id="connectSource" class="btn btn-primary">Connect Source</button>
            <div id="sourceStatus" class="connection-status disconnected">
              <span class="status-icon">‚óè</span> Not Connected
            </div>
            <div id="sourceOrgDetails" class="org-details-box" style="display: none;">
              <div class="detail-row">
                <span class="detail-label">Org Name:</span>
                <span class="detail-value" id="sourceOrgName">-</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Org ID:</span>
                <span class="detail-value" id="sourceOrgId">-</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Target Org Panel -->
        <div class="org-panel">
          <div class="panel-header target">
            <h3>Target Org</h3>
            <span class="panel-subtitle">Data will be copied TO here</span>
          </div>
          <div class="panel-body">
            <input type="text" id="targetDomain" class="input-field" placeholder="https://test.salesforce.com" />
            <button id="connectTarget" class="btn btn-primary">Connect Target</button>
            <div id="targetStatus" class="connection-status disconnected">
              <span class="status-icon">‚óè</span> Not Connected
            </div>
            <div id="targetOrgDetails" class="org-details-box" style="display: none;">
              <div class="detail-row">
                <span class="detail-label">Org Name:</span>
                <span class="detail-value" id="targetOrgName">-</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Org ID:</span>
                <span class="detail-value" id="targetOrgId">-</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Object Selection Section -->
    <section class="section-card" id="objectSelectionSection">
      <h2 class="section-title">Step 2: Select Object & Fields</h2>
      <div class="object-selection">
        <div class="selection-controls">
          <label for="objectSelect" class="input-label">Salesforce Object:</label>
          <select id="objectSelect" class="select-field" disabled>
            <option value="">Connect both orgs first</option>
          </select>
          <button id="refreshObjectsBtn" class="btn btn-outline btn-small" disabled title="Refresh object list">
            <span class="btn-icon">üîÑ</span>
          </button>
          <button id="fetchFieldsBtn" class="btn btn-secondary" disabled>
            <span class="btn-icon">‚ü≥</span> Fetch Fields
          </button>
          <span id="fieldFetchStatus" class="fetch-status"></span>
        </div>
      </div>
    </section>

    <!-- Field Mapping Section -->
    <section class="section-card" id="fieldMappingSection" style="display: none;">
      <h2 class="section-title">Step 3: Map Fields</h2>
      <div class="mapping-container">
        <div class="mapping-header">
          <div class="mapping-column-header">
            <h4>Source Fields</h4>
            <span class="column-subtitle">From Source Org</span>
          </div>
          <div class="mapping-connector-header">
            <span>Mapping</span>
          </div>
          <div class="mapping-column-header">
            <h4>Target Fields</h4>
            <span class="column-subtitle">To Target Org</span>
          </div>
        </div>
        <div id="fieldMappingList" class="mapping-list">
          <!-- Field mappings will be dynamically inserted here -->
          <div class="mapping-placeholder">
            <p>Connect both orgs and fetch fields to start mapping</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Action & Status Section -->
    <section class="section-card">
      <h2 class="section-title">Step 4: Transfer Data</h2>
      <div class="action-section">
        <div class="action-buttons">
          <button id="previewTransferBtn" class="btn btn-outline" disabled>
            <span class="btn-icon">üëÅ</span> Preview Transfer
          </button>
          <button id="startTransferBtn" class="btn btn-success" disabled>
            <span class="btn-icon">‚ñ∂</span> Start Transfer
          </button>
        </div>
        <div class="transfer-stats" id="transferStats" style="display: none;">
          <div class="stat-item">
            <span class="stat-label">Records to Transfer:</span>
            <span class="stat-value" id="recordCount">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Fields Mapped:</span>
            <span class="stat-value" id="fieldCount">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Status:</span>
            <span class="stat-value" id="transferStatus">Ready</span>
          </div>
        </div>
      </div>

      <!-- Console/Log Section -->
      <div class="console-section">
        <div class="console-header">
          <h4>Activity Console</h4>
          <button id="clearConsoleBtn" class="btn-icon-small" title="Clear Console">‚úï</button>
        </div>
        <div id="activityConsole" class="console-content">
          <div class="console-log info">
            <span class="log-time">[System]</span>
            <span class="log-message">Application initialized. Connect to orgs to begin.</span>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="app-footer">
    <p>Mass Data Transfer v1.0 | Demo Project | Salesforce Migration Tool</p>
  </footer>

  <script src="public/JsHelper/config.js"></script>
  <script src="script.js"></script>
</body>
</html>
